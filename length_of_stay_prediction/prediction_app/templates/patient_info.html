{% extends "base.html" %}
{% load static %}
<html>

{% block title %} Length Of Stay {% endblock %}

{% block style %}
{{ block.super }}
<!-- Additional CSS specific to dashboard if needed -->
<link rel="stylesheet" href="{% static 'prediction_app/patient_info.css' %}">
{% endblock %}

{% block page %}
<div style="max-height: 500px;">
    <h2>Patients Infor</h2>
    <div class="row">
        <div class="column" style="background-color: white;width: 15%;height: 200px; margin-left: 30px;">
            <div class="patient-card">
                <div class="patient-avatar">
                    <img src="{% static 'prediction_app/user.jpg' %}" alt="Patient Avatar" class="image123" />
                </div>
                <div class="patient-details">
                    <h2>{{ patient }}</h2>
                    <p style="margin-left: -20px;margin-bottom: 0px;">{{ patient.get_gender_display }}</p>
                    <p style="margin-left: -20px;">ID: {{ patient.id }}</p>
                </div>
            </div>
        </div>
        <div class="column" style="background-color: white;width: 70%;height: 258px;padding: 5%; margin-left: 30px;">
            <div class="info-row">
                <div class="info-item">
                    <strong>Date of Birth:</strong> {{ patient.date_of_birth }}
                </div>
                <div class="info-item">
                    <strong>Clinical Note:</strong> {{ patient.clinical_note }}
                </div>
            </div>
            <div class="info-row">
                <div class="info-item">
                    <strong>Marital Status:</strong> {{ patient.get_marital_status_display }}
                </div>
            </div>
            <div class="info-row">
                <div class="info-item">
                    <strong>Religion:</strong> {{ patient.get_religion_display }}
                </div>
            </div>
            <div class="info-row">
                <div class="info-item">
                    <strong>Ethnicity:</strong> {{ patient.ethnicity }}
                </div>
            </div>
        </div>
    </div>
    {% block content %}
    <h2>Admissions</h2>
    <div style="background-color: white; padding: 10px; height: 49%; margin-right: 20px; margin-left: 20px;">
        <table id=patients class="patients-table" , style="background-color: white;">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Sex</th>
                    <th>DOB</th>
                    <th>Marital Status</th>
                    <th>Religion</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for patient in patients %}
                <tr>
                    <td><a href="{% url 'get_patient_info' patient.id %}"
                            style="color:blue;text-decoration: underline;"> {{ patient.id }} </a> </td>
                    <td>{{ patient }}</td>
                    <td>{{ patient.get_gender_display }}</td>
                    <td>{{ patient.date_of_birth }}</td>
                    <td>{{ patient.get_marital_status_display }}</td>
                    <td>{{ patient.get_religion_display }}</td>
                    <td>
                        <button class="action-btn edit"><i class="fas fa-edit"></i></button>
                        <button class="action-btn delete"><i class="fas fa-trash"></i></button>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <script src="//code.jquery.com/jquery-1.12.4.js"></script>
    <script src="//cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
    <script src="//cdn.datatables.net/1.10.16/js/dataTables.bootstrap4.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#patients').DataTable({
                "dom": 'frtip',
                "scrollCollapse": true,
                Hieght: '500px',
                scrollY: '50vh',
            });
        }); 
    </script>
    {% endblock %}
</div>
{% endblock %}

</html>